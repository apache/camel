== Yahoo Query Language Component

*Available as of Camel version 2.21*

The *yql* component is used for accessing the https://developer.yahoo.com/yql/[Yahoo Query Language platform].

Maven users will need to add the following dependency to their `pom.xml`
for this component:

[source,xml]
------------------------------------------------------------
<dependency>
    <groupId>org.apache.camel</groupId>
    <artifactId>camel-yql</artifactId>
    <version>x.x.x</version>
    <!-- use the same version as your Camel core version -->
</dependency>
------------------------------------------------------------

### URI format

[source,java]
--------------------------------------------
yql://query[?options]
--------------------------------------------

Where *query* represents the YQL query.

### Options

// component options: START
The Yahoo Query Language component supports 2 options which are listed below.



[width="100%",cols="2,5,^1,2",options="header"]
|===
| Name | Description | Default | Type
| *connectionManager* (producer) | Set the connection manager. |  | HttpClientConnection Manager
| *resolveProperty Placeholders* (advanced) | Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders. | true | boolean
|===
// component options: END

// endpoint options: START
The Yahoo Query Language endpoint is configured using URI syntax:

----
yql:query
----

with the following path and query parameters:

==== Path Parameters (1 parameters):

[width="100%",cols="2,5,^1,2",options="header"]
|===
| Name | Description | Default | Type
| *query* | *Required* The YQL query to be sent. |  | String
|===

==== Query Parameters (5 parameters):

[width="100%",cols="2,5,^1,2",options="header"]
|===
| Name | Description | Default | Type
| *callback* (producer) | If specified the option will be included in the HTTP request to YQL. If the format is json then the response will contain a JSONP callback method. If the format is xml then the response will contain a JSONP-X callback method. More information: https://developer.yahoo.com/yql/guide/response.html |  | String
| *diagnostics* (producer) | If true the option will be included in the HTTP request to YQL and the response will contain some diagnostics data. | false | boolean
| *format* (producer) | The expected format. Can only be json or xml. | json | String
| *throwExceptionOnFailure* (producer) | Option to disable throwing the YqlHttpException in case of failed responses from the remote server. This allows you to get all responses regardless of the HTTP status code. | true | boolean
| *synchronous* (advanced) | Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported). | false | boolean
|===
// endpoint options: END

### Exchange data format

Camel will deliver the body as a JSON or XML formatted java.lang.String (see
the `format` option above).

### Message Headers

[width="100%",cols="10%,90%",options="header",]
|=======================================================================
|Header |Description
|`CamelYqlHttpRequest` | Http request sent to YQL
|`CamelYqlHttpStatus` | Status code from the response
|=======================================================================

### Samples

In this example we query YQL to obtain Google quote:

[source,java]
--------------------------------------------------------
from("direct:start")
  .to("yql://select * from yahoo.finance.quotes where symbol in ('GOOG')?format=json");
--------------------------------------------------------

Which will setup the body as:

[source,json]
--------------------------------------------------------
{
 "query": {
  "count": 1,
  "created": "2017-10-29T03:17:28Z",
  "lang": "en-US",
  "results": {
   "quote": {
    "symbol": "GOOG",
    "Ask": "1024.50",
    "AverageDailyVolume": "1356700",
    "Bid": "1019.27",
    ...
   }
  }
 }
}
--------------------------------------------------------

and the headers:

[width="100%",cols="30%,70%",options="header",]
|=======================================================================
|Header |Value
|`CamelYqlHttpRequest` |http://query.yahooapis.com/v1/public/yql?format=json&diagnostics=false&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=yqlCallback&q=select+*+from+yahoo.finance.quotes+where+symbol+in+%28%27GOOG%27%29
|`CamelYqlHttpStatus` |200
|=======================================================================
