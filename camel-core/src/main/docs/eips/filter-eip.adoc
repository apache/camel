## Filter EIP
Camel supports the link:http://www.enterpriseintegrationpatterns.com/ContentFilter.html[Content Filter] from the link:https://camel.apache.org/enterprise-integration-patterns.html[EIP patterns] using one of the following mechanisms in the routing logic to transform content from the inbound message.

image:http://www.enterpriseintegrationpatterns.com/img/ContentFilter.gif[image]

* Message Translator
* invoking a Java bean
* Processor object

A common way to filter messages is to use an Expression in the DSL like XQuery, SQL or one of the supported Scripting Languages.

### Using the Fluent Builders
Here is a simple example using the DSL directly

[source,java]
---------------------
from("direct:start").setBody(body().append(" World!")).to("mock:result");
---------------------

In this example we add our own Processor

[source,java]
---------------------
from("direct:start").process(new Processor() {
    public void process(Exchange exchange) {
        Message in = exchange.getIn();
        in.setBody(in.getBody(String.class) + " World!");
    }
}).to("mock:result");
---------------------

For further examples of this pattern in use you could look at one of the JUnit tests

* TransformTest
* TransformViaDSLTest

### Using Spring XML
[source,xml]
---------------------
<route>
  <from uri="activemq:Input"/>
  <bean ref="myBeanName" method="doTransform"/>
  <to uri="activemq:Output"/>
</route>
---------------------

You can also use XPath to filter out part of the message you are interested in:
[source,xml]
---------------------
<route>
  <from uri="activemq:Input"/>
  <setBody><xpath resultType="org.w3c.dom.Document">//foo:bar</xpath></setBody>
  <to uri="activemq:Output"/>
</route>
---------------------

### Using This Pattern
If you would like to use this EIP Pattern then please read the Getting Started, you may also find the Architecture useful particularly the description of Endpoint and URIs. Then you could try out some of the Examples first before trying this pattern out.